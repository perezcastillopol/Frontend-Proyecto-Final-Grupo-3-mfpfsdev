@if (!isLoading) {
  <div class="container my-4">
    <!-- Cabecera -->
    <div class="d-flex justify-content-between align-items-center mb-4 header">
      <h1 class="h3 mb-0">
        Mi <span class="fw-bold">perfil</span>
      </h1>

      @if (!isEditing) {
        <button class="btn edit-btn" (click)="onEdit()">
          Editar
        </button>
      } @else {
        <div class="d-flex gap-2">
          <button class="btn btn-success" (click)="onSave()">
            Guardar
          </button>
          <button class="btn btn-outline-secondary" (click)="onCancel()">
            Cancelar
          </button>
        </div>
      }
    </div>

    <!-- Tres bloques del diseÃ±o -->
    <div class="row g-4">
      <div class="col-md-4">
        <app-profile-main-card
          [form]="profileForm"
          [isEditing]="isEditing">
        </app-profile-main-card>
      </div>

      <div class="col-md-8">
        <app-profile-about-card
          [form]="profileForm"
          [isEditing]="isEditing">
        </app-profile-about-card>
      </div>

      <div class="col-12">
        <app-profile-personal-info-card
          [form]="profileForm"
          [isEditing]="isEditing">
        </app-profile-personal-info-card>
      </div>
    </div>
  </div>
} @else {
  <div class="loading-wrapper">
    Cargando perfil...
  </div>
}
